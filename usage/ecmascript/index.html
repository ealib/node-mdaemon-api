<!doctype html><html><head><meta charset=UTF-8><link href=https://ealib.github.io/node-mdaemon-api/main.css rel=stylesheet><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title> node-mdaemon-api | ECMAScript </title><body><main><nav><h1><a href=https://ealib.github.io/node-mdaemon-api>node-mdaemon-api</a></h1><a class=ms-Icon--GlobalNavButton href=javascript:void(0); id=mobile onclick=burger()></a><div id=trees><input class=tree-toggle id=overview type=checkbox><label class=tree-toggle-label for=overview>Overview</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/overview/goal-and-philosophy/>Goal and Philosophy</a><li><a href=https://ealib.github.io/node-mdaemon-api/overview/acknowledgements/>Acknowledgements</a><li><a href=https://ealib.github.io/node-mdaemon-api/overview/stay-in-touch/>Stay in touch</a></ul><input class=tree-toggle id=installation type=checkbox><label class=tree-toggle-label for=installation>Installation</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/installation/requirements/>Requirements</a><li><a href=https://ealib.github.io/node-mdaemon-api/installation/version-number/>Version number</a><li><a href=https://ealib.github.io/node-mdaemon-api/installation/security/>Security</a><li><a href=https://ealib.github.io/node-mdaemon-api/installation/step-by-step/>Step by step installation</a><li><a href=https://ealib.github.io/node-mdaemon-api/installation/throubleshooting/>Troubleshooting</a></ul><input checked class=tree-toggle id=usage type=checkbox><label class=tree-toggle-label for=usage>Usage</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/usage/early-abort/>Early abort the script if</a><li class=active><a href=https://ealib.github.io/node-mdaemon-api/usage/ecmascript/>ECMAScript</a><li><a href=https://ealib.github.io/node-mdaemon-api/usage/typescript/>Typescript</a></ul><input class=tree-toggle id=reference type=checkbox><label class=tree-toggle-label for=reference>Reference</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/reference/introduction/>Introduction</a><li><a href=https://ealib.github.io/node-mdaemon-api/reference/status/>APIs implementation status</a></ul><input class=tree-toggle id=mdaemon-r-sdk type=checkbox><label class=tree-toggle-label for=mdaemon-r-sdk>MDaemonÂ® SDK</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/md-sdk/introduction/>Introduction</a><li><a href=https://ealib.github.io/node-mdaemon-api/md-sdk/directory-tree-of-api/>Directory Tree of API</a><li><a href=https://ealib.github.io/node-mdaemon-api/md-sdk/my-include-altn-directory-tree/>My include/altn directory tree</a></ul><input class=tree-toggle id=changelog type=checkbox><label class=tree-toggle-label for=changelog>Changelog</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/readme/>Format</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/24-0-2-alpha-36-unreleased/>24.0.2-alpha.36</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/24-0-2-alpha-35-2024-09-10/>24.0.2-alpha.35</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/24-0-2-alpha-34-2024-08-19/>24.0.2-alpha.34</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/24-0-1-alpha-33-2024-07-05/>24.0.1-alpha.33</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/24-0-0-alpha-32-2024-06-21/>24.0.0-alpha.32</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/24-0-0-alpha-31-2024-06-20/>24.0.0-alpha.31</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-3-alpha-30-2024-05-17/>23.5.3-alpha.30</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-3-alpha-29-2024-04-10/>23.5.3-alpha.29</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-3-alpha-28-2024-04-04/>23.5.3-alpha.28</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-3-alpha-27-2024-03-26/>23.5.3-alpha.27</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-2-alpha-26-2024-03-02/>23.5.2-alpha.26</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-2-alpha-25-2024-02-12/>23.5.2-alpha.25</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-1-alpha-24-2024-01-25/>23.5.1-alpha.24</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-1-alpha-23-2023-12-29/>23.5.1-alpha.23</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-5-1-alpha-22-2023-12-06/>23.5.1-alpha.22</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-0-0-alpha-21-2023-03-22/>23.0.0-alpha.21</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/23-0-0-alpha-20-2023-02-18/>23.0.0-alpha.20</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/22-0-3-alpha-19-2022-11-26/>22.0.3-alpha.19</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/22-0-2-alpha-18-2022-08-23/>22.0.2-alpha.18</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/22-0-2-alpha-17-2022-08-19/>22.0.2-alpha.17</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/22-0-0-alpha-16-2022-07-01/>22.0.0-alpha.16</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/22-0-0-alpha-15-2022-06-18/>22.0.0-alpha.15</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/21-5-2-alpha-14-2022-05-14/>21.5.2-alpha.14</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/21-5-2-alpha-13-2022-05-07/>21.5.2-alpha.13</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/21-5-2-alpha-12-2022-04-30/>21.5.2-alpha.12</a><li><a href=https://ealib.github.io/node-mdaemon-api/changelog/21-5-2-alpha-11-2022-04-23/>21.5.2-alpha.11</a></ul><input class=tree-toggle id=legal-informations type=checkbox><label class=tree-toggle-label for=legal-informations>Legal informations</label><ul class=subtree><li><a href=https://ealib.github.io/node-mdaemon-api/legal/license/>License</a><li><a href=https://ealib.github.io/node-mdaemon-api/legal/copyright/>Copyright, Trademarks</a></ul></div></nav><article><div id=on_right><span class=ms-Icon--Search id=search-ico></span></div><div class=search-container><input placeholder="Search as you type..." id=search type=search><div class=search-results><div class=search-results__header></div><ul class=search-results__items></ul></div></div><div id=wrap><h1 id=ecmascript>ECMAScript</h1><h2 id=commonjs>CommonJS</h2><p>Minimum <a href=https://www.ecma-international.org/publications-and-standards/standards/ecma-262/>ECMASCript</a> example:<pre class=language-javascript data-lang=javascript style=background:#2b303b;color:#c0c5ce><code class=language-javascript data-lang=javascript><span>'</span><span style=color:#a3be8c>use strict</span><span>';
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>md </span><span>= </span><span style=color:#96b5b4>require</span><span>('</span><span style=color:#a3be8c>node-mdaemon-api</span><span>');
</span><span>
</span><span style=color:#b48ead>if </span><span>(!</span><span style=color:#bf616a>md</span><span>.</span><span style=color:#bf616a>versionsMatch</span><span>) {
</span><span>    </span><span style=color:#65737e>// Early abort!
</span><span>    </span><span style=color:#b48ead>throw </span><span>new Error('</span><span style=color:#a3be8c>MDaemon version and node-mdaemon-api version do NOT match!</span><span>');
</span><span>}
</span><span>
</span><span style=color:#b48ead>if </span><span>(</span><span style=color:#bf616a>md</span><span>.</span><span style=color:#bf616a>isReady</span><span>) {
</span><span>    </span><span style=color:#b48ead>const </span><span style=color:#bf616a>mdInfo </span><span>= </span><span style=color:#bf616a>md</span><span>.</span><span style=color:#8fa1b3>getMdInfo</span><span>();
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>log</span><span>(`</span><span style=color:#a3be8c>MDaemon ${</span><span style=color:#bf616a>mdInfo</span><span style=color:#a3be8c>.version.</span><span style=color:#bf616a>full</span><span style=color:#a3be8c>} ready!</span><span>`);
</span><span>} </span><span style=color:#b48ead>else </span><span>{
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>error</span><span>('</span><span style=color:#a3be8c>MDaemon not available.</span><span>');
</span><span>}
</span></code></pre><h2 id=esm>ESM</h2><p>If you set your <code>package.json</code>'s <code>type</code> to <code>module</code>, Node.js can use ESM modules, but <code>import</code> can <a href=https://nodejs.org/dist/latest-v14.x/docs/api/esm.html#esm_no_native_module_loading><strong>not</strong> import native modules</a> as <code>node-mdaemon-api</code>.<pre class=language-json data-lang=json style=background:#2b303b;color:#c0c5ce><code class=language-json data-lang=json><span>{
</span><span>    </span><span style=color:#65737e>//...
</span><span>    "</span><span style=color:#a3be8c>type</span><span>": "</span><span style=color:#a3be8c>module</span><span>",
</span><span>    </span><span style=color:#65737e>//...
</span><span>}
</span></code></pre><p>You will need to explicitly create the <code>require</code> function to load <code>node-mdaemon-api</code>.<pre class=language-javascript data-lang=javascript style=background:#2b303b;color:#c0c5ce><code class=language-javascript data-lang=javascript><span>'</span><span style=color:#a3be8c>use strict</span><span>';
</span><span style=color:#b48ead>import </span><span>{ </span><span style=color:#bf616a>createRequire </span><span>} </span><span style=color:#b48ead>from </span><span>'</span><span style=color:#a3be8c>module</span><span>';
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>require </span><span>= </span><span style=color:#8fa1b3>createRequire</span><span>(</span><span style=color:#b48ead>import</span><span>.meta.</span><span style=color:#bf616a>url</span><span>);
</span><span style=color:#b48ead>const </span><span style=color:#bf616a>md </span><span>= </span><span style=color:#96b5b4>require</span><span>('</span><span style=color:#a3be8c>node-mdaemon-api</span><span>');
</span><span>
</span><span style=color:#b48ead>if </span><span>(!</span><span style=color:#bf616a>md</span><span>.</span><span style=color:#bf616a>versionsMatch</span><span>) {
</span><span>    </span><span style=color:#65737e>// Early abort!
</span><span>    </span><span style=color:#b48ead>throw </span><span>new Error('</span><span style=color:#a3be8c>MDaemon version and node-mdaemon-api version do NOT match!</span><span>');
</span><span>}
</span><span>
</span><span style=color:#b48ead>if </span><span>(</span><span style=color:#bf616a>md</span><span>.</span><span style=color:#bf616a>isReady</span><span>) {
</span><span>    </span><span style=color:#b48ead>const </span><span style=color:#bf616a>mdInfo </span><span>= </span><span style=color:#bf616a>md</span><span>.</span><span style=color:#8fa1b3>getMdInfo</span><span>();
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>log</span><span>(`</span><span style=color:#a3be8c>MDaemon ${</span><span style=color:#bf616a>mdInfo</span><span style=color:#a3be8c>.version.</span><span style=color:#bf616a>full</span><span style=color:#a3be8c>} ready!</span><span>`);
</span><span>} </span><span style=color:#b48ead>else </span><span>{
</span><span>    </span><span style=color:#ebcb8b>console</span><span>.</span><span style=color:#96b5b4>error</span><span>('</span><span style=color:#a3be8c>MDaemon not available.</span><span>');
</span><span>}
</span></code></pre></div></article></main><script defer src=https://ealib.github.io/node-mdaemon-api/elasticlunr.min.js></script><script defer src=https://ealib.github.io/node-mdaemon-api/search_index.en.js></script><script defer src=https://ealib.github.io/node-mdaemon-api/js.js></script>